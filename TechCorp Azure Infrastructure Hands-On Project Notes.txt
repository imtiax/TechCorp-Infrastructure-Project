Project 1 - Part 1: Company Infrastructure Setup - Ultra-Detailed Guide
Before We Start: Setting Up Your Environment

Step 1: Create/Access Your Azure Account
Open your web browser (Chrome, Edge, or Firefox)
Navigate to https://portal.azure.com
Click "Sign in" button (top right)
Enter your Microsoft account credentials
If you don't have an account, click "Create one" and follow the registration process

Step 2: Install Azure CLI (Optional but Recommended)
For Windows:
Go to https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-windows
Click "Download the MSI installer"
Run the downloaded file
Follow the installation wizard (keep all default settings)
Open Command Prompt and type az --version to verify installation

For Web-based option:
In Azure Portal, click the "Cloud Shell" icon (>_) in the top toolbar
Select "Bash" when prompted
Click "Create storage" if it's your first time

Setting Up Resource Groups
Step 1: Create Your First Resource Group

Via Azure Portal:
Login to Azure Portal (https://portal.azure.com)
Navigate to Resource Groups:
Click "All services" in the left sidebar
Type "Resource groups" in the search box
Click "Resource groups" from the results

Create New Resource Group:
Click the "+ Create" button (top left)
Subscription: Select your subscription from dropdown
Resource group name: Type TechCorp-Prod-RG
Region: Select "East US" from dropdown
Click "Review + create" button (bottom left)
Click "Create" button
Wait for "Deployment completed" message (usually 5-10 seconds)

Repeat for Development Resource Group:
Click "← Resource groups" (back button)
Click "+ Create" again
Resource group name: Type TechCorp-Dev-RG
Region: Select "East US"
Click "Review + create" → "Create"

Repeat for Network Resource Group:
Click "← Resource groups" (back button)
Click "+ Create" again
Resource group name: Type TechCorp-Network-RG
Region: Select "East US"
Click "Review + create" → "Create"

Verification:
You should now see 3 resource groups in your list
Each should show "East US" as the location
Each should show "0 resources" currently

Planning Your Network
Step 3: Understanding the Network Design

Our Network Plan:
Main Network: 10.0.0.0/16 (This gives us 65,536 IP addresses)
Web Subnet: 10.0.1.0/24 (256 IP addresses for web servers)
App Subnet: 10.0.2.0/24 (256 IP addresses for application servers)
Database Subnet: 10.0.3.0/24 (256 IP addresses for databases)

Step 4: Create Virtual Network
Via Azure Portal:
Navigate to Virtual Networks:
In Azure Portal, click "All services" (left sidebar)
Type "Virtual networks" in search box
Click "Virtual networks" from results

Create New Virtual Network:
Click "+ Create" button (top left)
Subscription: Select your subscription
Resource group: Click dropdown → Select "TechCorp-Network-RG"
Name: Type "TechCorp-VNet"
Region: Select "East US"

Configure IP Addresses:
Click "Next: IP Addresses >" button (bottom)
IPv4 address space: Should show 10.0.0.0/16 (if not, clear and type this)
Subnet name: Change "default" to Web-Subnet
Subnet address range: Type 10.0.1.0/24
Click "Review + create" → "Create"


Add Additional Subnets:
After deployment completes, click "Go to resource"
In the left menu, click "Subnets"
Click "+ Subnet" button
Name: Type "App-Subnet"
Subnet address range: Type 10.0.2.0/24
Click "Save"

Add Database Subnet:
Click "+ Subnet" button again
Name: Type "Database-Subnet"
Subnet address range: Type 10.0.3.0/24
Click "Save"

Verification:
You should see 3 subnets in your Virtual Network
Each subnet should show "Available IPs: 251" (256 minus 5 reserved by Azure)

Setting Up Security
Step 5: Create Network Security Groups
Create Web Security Group:
Navigate to Network Security Groups:
Azure Portal → "All services" → Type "Network security groups"
Click "Network security groups" from results

Create Web NSG:
Click "+ Create"
Subscription: Select your subscription
Resource group: Select "TechCorp-Network-RG"
Name: Type "Web-NSG"
Region: Select "East US"
Click "Review + create" → "Create"

Configure Web NSG Rules:
After deployment, click "Go to resource"
In left menu, click "Inbound security rules"
Click "+ Add" button
Source: Keep "Any"
Source port ranges: Keep "*"
Destination: Keep "Any"
Service: Select "HTTP" from dropdown
Action: Keep "Allow"
Priority: Type 100
Name: Type Allow-HTTP
Click "Add"

Add HTTPS Rule:
Click "+ Add" again
Service: Select "HTTPS" from dropdown
Priority: Type 110
Name: Type Allow-HTTPS
Click "Add"

Add RDP Rule (for Windows VM):
Click "+ Add" again
Service: Select "RDP" from dropdown
Priority: Type 120
Name: Type Allow-RDP
Click "Add"

Create App Security Group:
Go back to Network Security Groups main page
Click "+ Create"
Name: Type "App-NSG"
Resource group: Select "TechCorp-Network-RG"
Click "Review + create" → "Create"

Create Database Security Group:
Repeat the process
Name: Type "Database-NSG"
Resource group: Select "TechCorp-Network-RG"
Click "Review + create" → "Create"

Associate Security Groups with Subnets
Step 6: Link NSGs to Subnets
Navigate to Virtual Networks:
Azure Portal → "All services" → "Virtual networks"
Click "TechCorp-VNet"

Associate Web-NSG with Web-Subnet:
Click "Subnets" in left menu
Click "Web-Subnet"
Network security group: Click dropdown → Select "Web-NSG"
Click "Save"

Associate App-NSG with App-Subnet:
Click "App-Subnet"
Network security group: Click dropdown → Select "App-NSG"
Click "Save"

Associate Database-NSG with Database-Subnet:
Click "Database-Subnet"
Network security group: Click dropdown → Select "Database-NSG"
Click "Save"

Verification:
Each subnet should now show its associated NSG in the subnets list

Create Your First Virtual Machine (Windows Domain Controller)
Step 7: Create Windows VM
Navigate to Virtual Machines:
Azure Portal → "All services" → Type "Virtual machines"
Click "Virtual machines" from results

Create VM:

Click "+ Create" → Select "Azure virtual machine"
Subscription: Select your subscription
Resource group: Select "TechCorp-Prod-RG"
Virtual machine name: Type "DC01"
Region: Select "East US"
Availability options: Keep "No infrastructure redundancy required"
Security type: Keep "Standard"
Image: Click "See all images"
Type "Windows Server 2019" in search box
Click "Windows Server 2019 Datacenter - Gen2"
Click "Select"
Size: Click "Change size"
Type "B2s" in search box
Click "Standard_B2s - 2 vcpus, 4 GiB memory"
Click "Select"
Configure Administrator Account:
Username: Type azureuser
Password: Type TechCorp123!@#
Confirm password: Type TechCorp123!@#
Check "I confirm I have an eligible Windows license"

Configure Networking:
Click "Next: Disks >" → Click "Next: Networking >"
Virtual network: Should show "TechCorp-VNet"
Subnet: Select "Web-Subnet"
Public IP: Keep "Create new"
NIC network security group: Select "Advanced"
Configure network security group: Select "Web-NSG"
Review and Create:
Click "Review + create"
Wait for validation to pass
Click "Create"
Wait for Deployment: This usually takes 5-10 minutes.

Create Linux Web Server
Step 8: Create Linux VM

Create Second VM:
Go to Virtual Machines → Click "+ Create" → "Azure virtual machine"
Resource group: Select "TechCorp-Prod-RG"
Virtual machine name: Type 'WebServer01'
Region: Select "East US"
Image: Click "See all images"
Type "Ubuntu" in search box
Click "Ubuntu Server 20.04 LTS - Gen2"
Click "Select"
Size: Click "Change size"
Type "B1s" in search box
Click "Standard_B1s - 1 vcpu, 1 GiB memory"
Click "Select"

Configure Authentication:
Authentication type: Select "SSH public key"
Username: Type azureuser
SSH public key source: Keep "Generate new key pair"
Key pair name: Type WebServer01_key

Configure Networking:
Click "Next: Disks >" → Click "Next: Networking >"
Virtual network: Should show "TechCorp-VNet"
Subnet: Select "App-Subnet"
Public IP: Keep "Create new"
NIC network security group: Select "Advanced"
Configure network security group: Select "App-NSG"

Add SSH Rule to App-NSG:
Click "Create new" next to network security group
Click "+ Add an inbound rule"
Service: Select "SSH"
Priority: Type 100
Name: Type Allow-SSH
Click "Add"
Click "OK"

Create VM:
Click "Review + create" → "Create"
Download private key: Click "Download private key and create resource"
Save the SSH key file

Test and Document Everything
Step 9: Test Your Windows VM

Connect to Windows VM:
Go to Virtual Machines → Click "DC01"
Click "Connect" → Select "RDP"
Click "Download RDP File"
Open the downloaded file
Username: Type azureuser
Password: Type TechCorp123!@#
Click "OK"

Basic Configuration:
Once connected, open Server Manager
Click "Local Server" in left panel
Note the computer name and IP address
Take a screenshot for documentation

Step 10: Test Your Linux VM
Connect to Linux VM:
Go to Virtual Machines → Click "WebServer01"
Click "Connect" → Select "SSH"
Copy the SSH command shown
Open Command Prompt/Terminal
Navigate to where you saved the SSH key
Run the SSH command
Type "yes" when prompted about authenticity
Run "sudo apt update" to test connectivity


Part 2: Security & Monitoring Implementation - Ultra-Detailed Guide
Overview
Building on Part-1, we'll now add enterprise-level security and monitoring to your TechCorp infrastructure. 

Azure Active Directory with users and groups
Key Vault for secrets management
Azure Monitor with custom dashboards
Log Analytics workspace
Backup policies for VMs
Security monitoring and alerts


Azure Active Directory Setup
Step 1: Access Azure Active Directory

Navigate to Azure AD:
Open Azure Portal (https://portal.azure.com)
In the left sidebar, click "Azure Active Directory"
If you don't see it, click "All services" → type "Azure Active Directory"


Explore Your Current AD:
Click "Overview" in the left menu
Note your Directory name (usually like "Default Directory")
Note your Tenant ID (long string of letters/numbers)

Step 2: Create Organizational Units (Groups)
Create IT Department Group:
Click "Groups" in the left menu
Click "+ New group"
Group type: Select "Security"
Group name: Type IT-Department
Group description: Type IT Department Staff
Membership type: Select "Assigned"
Click "Create"

Create HR Department Group:
Click "+ New group" again
Group type: Select "Security"
Group name: Type HR-Department
Group description: Type HR Department Staff
Membership type: Select "Assigned"
Click "Create"

Create Administrators Group:
Click "+ New group" again
Group type: Select "Security"
Group name: Type Azure-Administrators
Group description: Type Azure Infrastructure Administrators
Membership type: Select "Assigned"
Click "Create"

Step 3: Create Test Users
Create IT User:
Click "Users" in the left menu
Click "+ New user" → "Create new user"
User name: Type john.smith
Name: Type John Smith
First name: Type John
Last name: Type Smith
Password: Click "Auto-generate password"
Show password: Check the box and copy the password to your notes
Job title: Type IT Administrator
Department: Type IT
Click "Create"


Create HR User:
Click "+ New user" → "Create new user"
User name: Type jane.doe
Name: Type Jane Doe
First name: Type Jane
Last name: Type Doe
Password: Click "Auto-generate password"
Show password: Check the box and copy the password to your notes
Job title: Type HR Manager
Department: Type HR
Click "Create"

Step 4: Assign Users to Groups
Add John to IT Department:
Click "Groups" in the left menu
Click "IT-Department"
Click "Members" in the left submenu
Click "+ Add members"
Search for "john.smith"
Click on "John Smith" to select him
Click "Select"
Add John to Administrators:
Go back to Groups → Click "Azure-Administrators"
Click "Members" → "+ Add members"
Search and select "john.smith"
Click "Select"
Add Jane to HR Department:
Go back to Groups → Click "HR-Department"
Click "Members" → "+ Add members"
Search and select "jane.doe"
Click "Select"

Multi-Factor Authentication Setup
Step 6: Enable MFA for Administrators

Navigate to MFA Settings:
Azure Portal → "Azure Active Directory"
Click "Security" in the left menu
Click "MFA" under "Manage"
Click "Getting started"
Configure MFA Settings:
Click "Additional cloud-based MFA settings"
This opens a new tab with MFA configuration
Under "Users," click "john.smith"
Click "Enable" on the right
Click "Enable multi-factor auth" in the popup
Click "Close"

Step 7: Test MFA Login
Test with John's Account:
Open a new incognito/private browser window
Go to https://portal.azure.com
Click "Sign in"
Username: Type john.smith@yourdomain.onmicrosoft.com
Password: Use the password you copied earlier
Follow the MFA setup process:
Download Microsoft Authenticator app on your phone
Scan the QR code shown
Enter the verification code
Complete the setup
Document MFA Setup:

Step 8: Create Conditional Access Policy
Navigate to Conditional Access:
Azure Portal → "Azure Active Directory" → "Security"
Click "Conditional access" in the left menu
Click "+ New policy"
Create Admin Protection Policy:
Name: Type Require MFA for Administrators
Users and groups: Click "0 users and groups selected"
Click "Select users and groups"
Check "Groups"
Select "Azure-Administrators"
Click "Select"
Cloud apps: Click "No cloud apps or actions selected"
Click "Select apps"
Click "All cloud apps"
Click "Select"
Access controls: Click "0 controls selected"
Check "Require multi-factor authentication"
Click "Select"
Enable policy: Select "On"
Click "Create"

Day 3: Azure Key Vault Setup
Step 9: Create Key Vault

Navigate to Key Vaults:
Azure Portal → "All services" → Type "Key vaults"
Click "Key vaults" from results
Click "+ Create"

Configure Key Vault:
Subscription: Select your subscription
Resource group: Select "TechCorp-Prod-RG"
Key vault name: Type techcorp-keyvault-001 (must be globally unique)
Region: Select "East US"
Pricing tier: Select "Standard"
Click "Next: Access policy >"

Configure Access Policy:
Permission model: Keep "Vault access policy"
Under "Access policies," click "+ Add Access Policy"
Configure from template: Select "Secret Management"
Principal: Click "None selected"
Search for your username (the one you're logged in with)
Click on your account
Click "Select"
Click "Add"
Click "Review + create" → "Create"

Step 10: Store VM Credentials in Key Vault

Access Your Key Vault:
After deployment, click "Go to resource"
Click "Secrets" in the left menu
Click "+ Generate/Import"

Store Windows VM Password:
Upload options: Keep "Manual"
Name: Type DC01-AdminPassword
Value: Type TechCorp123!@#
Content type: Type password
Click "Create"

Store Linux VM SSH Key:
Click "+ Generate/Import" again
Name: Type WebServer01-SSHKey
Value: Open the SSH private key file you downloaded and copy its contents
Content type: Type ssh-private-key
Click "Create"

Step 11: Test Key Vault Access

Retrieve a Secret:
Click "Secrets" in the left menu
Click "DC01-AdminPassword"
Click the current version (the string of letters/numbers)
Click "Show Secret Value"
Verify it shows TechCorp123!@#

Grant Access to John Smith:
Click "Access policies" in the left menu
Click "+ Add Access Policy"
Configure from template: Select "Secret Management"
Principal: Search for "john.smith"
Select "John Smith"
Click "Select"
Click "Add"
Click "Save" (important!)


Azure Monitor Setup
Step 12: Create Log Analytics Workspace

Navigate to Log Analytics:
Azure Portal → "All services" → Type "Log Analytics"
Click "Log Analytics workspaces"
Click "+ Create"

Configure Workspace:
Subscription: Select your subscription
Resource group: Select "TechCorp-Prod-RG"
Name: Type TechCorp-LogAnalytics
Region: Select "East US"
Click "Review + create" → "Create"

Step 13: Connect VMs to Log Analytics

Connect Windows VM:
Go to Virtual Machines → Click "DC01"
Click "Monitoring" in the left menu
Click "Insights"
Click "Enable"
Log Analytics workspace: Select "TechCorp-LogAnalytics"
Click "Enable"
Wait for deployment (this takes 5-10 minutes)

Connect Linux VM:
Go to Virtual Machines → Click "WebServer01"
Click "Monitoring" → "Insights"
Click "Enable"
Log Analytics workspace: Select "TechCorp-LogAnalytics"
Click "Enable"
Wait for deployment

Step 14: Configure Performance Monitoring

Access Log Analytics:
Go to "Log Analytics workspaces" → Click "TechCorp-LogAnalytics"
Click "Logs" in the left menu
Close the "Queries" popup if it appears

Run Your First Query:
In the query window, type:
kustoPerf
| where TimeGenerated > ago(1h)
| where CounterName == "% Processor Time"
| summarize avg(CounterValue) by Computer
Click "Run"
You should see CPU usage data from your VMs

Backup Configuration
Step 15: Create Recovery Services Vault

Navigate to Recovery Services:
Azure Portal → "All services" → Type "Recovery Services"
Click "Recovery Services vaults"
Click "+ Create"

Configure Vault:
Subscription: Select your subscription
Resource group: Select "TechCorp-Prod-RG"
Vault name: Type TechCorp-Backup-Vault
Region: Select "East US"
Click "Review + create" → "Create"

Step 16: Configure VM Backup

Setup Backup for Windows VM:
Go to Virtual Machines → Click "DC01"
Click "Backup" in the left menu
Recovery Services vault: Select "TechCorp-Backup-Vault"
Backup policy: Click "Create new policy"
Policy name: Type Daily-Backup-Policy
Backup frequency: Keep "Daily"
Time: Set to "2:00 AM"
Timezone: Select your timezone
Retention range: Keep "30 days"
Click "OK"
Click "Enable backup"

Setup Backup for Linux VM:
Go to Virtual Machines → Click "WebServer01"
Click "Backup" in the left menu
Recovery Services vault: Select "TechCorp-Backup-Vault"
Backup policy: Select "Daily-Backup-Policy"
Click "Enable backup"

Step 17: Test Backup

Run Manual Backup:
Go to Virtual Machines → Click "DC01"
Click "Backup" in the left menu
Click "Backup now"
Retain backup till: Select a date 30 days from now
Click "OK"
Note: This will take 30-60 minutes to complete

Monitor Backup Job:
Go to "Recovery Services vaults" → Click "TechCorp-Backup-Vault"
Click "Backup jobs" in the left menu
You should see the backup job "In progress"

Security Monitoring & Alerts
Step 18: Configure Security Alerts

Navigate to Monitor:
Azure Portal → "All services" → Type "Monitor"
Click "Monitor"
Click "Alerts" in the left menu
Click "+ Create" → "Alert rule"
Create High CPU Alert:
Scope: Click "Select resource"
Filter by "Virtual machines"
Select "DC01"
Click "Done"
Condition: Click "Add condition"
Search for "Percentage CPU"
Click "Percentage CPU"
Threshold value: Type 80
Aggregation granularity: Select "5 minutes"
Click "Done"
Actions: Click "Add action groups" → "Create action group"
Resource group: Select "TechCorp-Prod-RG"
Action group name: Type IT-Alerts
Display name: Type IT-Alerts
Click "Next: Notifications >"
Notification type: Select "Email/SMS message/Push/Voice"
Name: Type Email-Admin
Check "Email" and enter your email address
Click "OK"
Click "Review + create" → "Create"

Alert rule details:
Alert rule name: Type High-CPU-DC01
Description: Type Alert when DC01 CPU exceeds 80%
Click "Create alert rule"

Step 19: Configure Storage Alerts

Create Low Disk Space Alert:
Click "+ Create" → "Alert rule"
Scope: Select "DC01"
Condition: Click "Add condition"
Search for "Available Memory Bytes"
Click "Available Memory Bytes"
Threshold value: Type 500000000 (500MB)
Operator: Select "Less than"
Click "Done"
Actions: Select "IT-Alerts" action group
Alert rule name: Type Low-Memory-DC01
Click "Create alert rule"

Step 20: Test Alert System

Generate Test Alert:
RDP to your DC01 VM
Open Task Manager
Go to "Performance" tab
Note current CPU usage
Open multiple programs to increase CPU usage
Or run this PowerShell command:
while($true) { $result = 1; for($i = 0; $i -lt 10000000; $i++) { $result += $i } }
Wait 10-15 minutes for alert to trigger
Check your email for alert notification

Dashboard Creation & Documentation
Step 21: Create Comprehensive Dashboard

Create New Dashboard:
Azure Portal → Click "Dashboard" in the top menu
Click "+ New dashboard"
Dashboard name: Type TechCorp-Operations-Dashboard
Click "Save"
Add VM Status Tiles:
Click "Edit" (pencil icon)
From the tile gallery, drag "Virtual machines" to the dashboard
Configure to show your VMs
Click "Done customizing"

Add Performance Metrics:
Click "Edit" again
Drag "Metrics" tile to dashboard
Configure to show CPU performance from both VMs
Add another "Metrics" tile for Memory usage
Click "Done customizing"

Add Backup Status:
Click "Edit"
Search for "Recovery Services vault"
Drag the tile to dashboard
Configure to show backup status
Click "Done customizing"

Project Completion Summary:
==================================
✅ Created 3 Resource Groups
✅ Created Virtual Network with 3 subnets
✅ Created 3 Network Security Groups
✅ Deployed Windows Server 2019 VM (DC01)
✅ Deployed Ubuntu Linux VM (WebServer01)
✅ Tested connectivity to both VMs
✅ Enterprise Security:
Azure Active Directory with users and groups
Multi-factor authentication
Conditional access policies
Centralized secret management
✅ Comprehensive Monitoring:
Log Analytics workspace
Performance dashboards
Custom alerts and notifications
Automated backup policies
✅ Professional Documentation:
Complete GitHub repository
Troubleshooting guides
Architecture documentation
Best practices implementation
✅ Real-World Skills:
Security configuration
Monitoring setup
Backup planning
Alert management

Your Infrastructure Now Includes:
Resource Groups: 3
Virtual Network: 1 with 3 subnets
Virtual Machines: 2 (monitored and backed up)
Key Vault: 1 with stored secrets
Log Analytics: 1 workspace
Backup Vault: 1 with daily policies
Security Alerts: 2 configured rules
Dashboard: 1 comprehensive operations dashboard
